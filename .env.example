# LSS-Verband-Tool Environment Configuration

# =============================================================================
# LEITSTELLENSPIEL LOGIN (REQUIRED)
# =============================================================================
# E-Mail Adresse für den Login bei leitstellenspiel.de
# Wird verwendet um automatisch Verbandsdaten abzurufen
LSS_EMAIL=your-email@example.com

# Passwort für den Login bei leitstellenspiel.de
# Wird sicher gespeichert und nur für die Anmeldung verwendet
LSS_PASSWORD=your-password

# =============================================================================
# SCRAPER INTERVALS (in Millisekunden)
# =============================================================================
# Wie oft die Liste aller aktiven Einsätze abgerufen wird
# Niedriger Wert = schnellere Updates, höhere Last
# Standard: 1000ms (1 Sekunde)
LSS_MISSION_LIST_INTERVAL_MS=1000

# Wie oft detaillierte Informationen zu einzelnen Einsätzen abgerufen werden
# Enthält Fahrzeuge, Status, Patienten etc.
# Standard: 15000ms (15 Sekunden)
LSS_MISSION_DETAILS_INTERVAL_MS=15000

# Wie oft Verbandsstatistiken aktualisiert werden
# Gesamtcredits, Mitgliederanzahl, etc.
# Standard: 300000ms (5 Minuten)
LSS_ALLIANCE_STATS_INTERVAL_MS=300000

# Wie oft der Online-Status aller Verbandsmitglieder geprüft wird
# Tracked wer gerade online/offline ist
# Standard: 60000ms (1 Minute)
LSS_MEMBER_TRACKING_INTERVAL_MS=60000

# =============================================================================
# HTTP DETAILS OPTIMIERUNG
# =============================================================================
# Aktiviert zusätzliche HTTP-Requests für schnellere Detailabfragen
# Alternative zum langsamen Browser-Scraping für Einsatzdetails
# Standard: true (empfohlen)
LSS_HTTP_DETAILS_ENABLED=true

# Anzahl paralleler HTTP-Requests für Einsatzdetails
# Höherer Wert = schneller, aber mehr Last auf LSS-Server
# Standard: 5 parallele Requests
LSS_HTTP_DETAILS_PARALLEL=5

# Verzögerung zwischen Batches von HTTP-Requests (in Millisekunden)
# Verhindert zu viele gleichzeitige Anfragen
# Standard: 500ms (0.5 Sekunden)
LSS_HTTP_DETAILS_BATCH_DELAY_MS=500

# =============================================================================
# BROWSER KONFIGURATION
# =============================================================================
# Browser im Headless-Modus starten (ohne sichtbares Fenster)
# Muss in Produktionsumgebung auf true stehen
# Standard: true
LSS_HEADLESS=true

# Pfad zum Chromium/Chrome Binary
# Docker: /usr/bin/chromium-browser
# macOS: /Applications/Google Chrome.app/Contents/MacOS/Google Chrome
# Windows: C:/Program Files/Google/Chrome/Application/chrome.exe
PUPPETEER_EXECUTABLE_PATH=/usr/bin/chromium-browser

# =============================================================================
# MITGLIEDER-FILTER
# =============================================================================
# Komma-getrennte Liste von Benutzernamen oder IDs die ignoriert werden
# Diese Mitglieder erscheinen nicht in Mitgliederlisten oder Online-Counts
# Nützlich für Bot-Accounts oder Test-Accounts
# Beispiel: RETT-DE-Safe-Acc,TestUser123,BotAccount
LSS_EXCLUDED_MEMBERS=RETT-DE-Safe-Acc

# =============================================================================
# DATENBANK (REQUIRED)
# =============================================================================
# PostgreSQL Benutzername
# Wird von Docker Compose und der Anwendung verwendet
POSTGRES_USER=lss

# PostgreSQL Passwort (WICHTIG: Ändern Sie dies!)
# Generieren Sie ein sicheres Passwort mit: openssl rand -base64 32
# Wird automatisch vom setup.sh Script generiert
POSTGRES_PASSWORD=CHANGE_ME_GENERATE_SECURE_PASSWORD

# Name der PostgreSQL Datenbank
# Standard: lss_tool
POSTGRES_DB=lss_tool

# Vollständige Datenbank-Verbindungs-URL
# Format: postgresql://user:password@host:port/database
# WICHTIG: Passwort muss mit POSTGRES_PASSWORD übereinstimmen
# Host ist 'postgres' im Docker-Netzwerk, 'localhost' außerhalb
DATABASE_URL=postgresql://lss:CHANGE_ME_GENERATE_SECURE_PASSWORD@postgres:5432/lss_tool

# =============================================================================
# SERVER KONFIGURATION
# =============================================================================
# Port auf dem der API-Server lauscht
# Standard: 3001
API_PORT=3001

# IP-Adresse auf der der Server gebunden wird
# 0.0.0.0 = alle Netzwerk-Interfaces (für Docker/Production)
# 127.0.0.1 = nur lokal erreichbar
API_HOST=0.0.0.0

# URL zur API für das Frontend
# Entwicklung: http://localhost:3001
# Produktion: https://your-domain.de/api (wird von setup.sh gesetzt)
VITE_API_URL=http://localhost:3001

# =============================================================================
# AUTHENTIFIZIERUNG
# =============================================================================
# Admin-Benutzername für das Web-Interface
# Wird beim Server-Start automatisch erstellt/aktualisiert
ADMIN_USERNAME=admin

# Admin-Passwort für das Web-Interface
# WICHTIG: Ändern Sie dies! Wird automatisch vom setup.sh Script generiert
# Wird gehasht in der Datenbank gespeichert
ADMIN_PASSWORD=your-secure-admin-password

# =============================================================================
# UMGEBUNG
# =============================================================================
# Node.js Umgebung
# development = Entwicklung mit ausführlichem Logging
# production = Produktion mit optimiertem Logging
NODE_ENV=development

# =============================================================================
# LOGGING
# =============================================================================
# Log-Level bestimmt welche Nachrichten ausgegeben werden
# Levels (vom wichtigsten zum unwichtigsten):
#   fatal  - Kritische Fehler die zum Absturz führen
#   error  - Fehler die behoben werden müssen
#   warn   - Warnungen über potenzielle Probleme
#   info   - Allgemeine Informationen (Standard)
#   debug  - Detaillierte Debug-Informationen
#   trace  - Sehr detaillierte Trace-Informationen
LOG_LEVEL=info

# =============================================================================
# DATEN-RETENTION (Automatische Bereinigung)
# =============================================================================
# Nach wie vielen Tagen werden abgeschlossene Einsätze gelöscht
# LSS schließt Einsätze nach max. 2 Tagen, daher 4 Tage als Puffer
# Standard: 4 Tage
DATA_RETENTION_INCIDENTS_DAYS=4

# Nach wie vielen Tagen werden Online/Offline-Aktivitätslogs gelöscht
# Ältere Logs werden entfernt um Speicherplatz zu sparen
# Standard: 30 Tage
DATA_RETENTION_ACTIVITY_DAYS=30

# Nach wie vielen Tagen werden detaillierte Statistiken zu Tageswerten aggregiert
# Danach gibt es nur noch 1 Eintrag pro Tag statt stündliche Werte
# Aggregierte Werte werden nie gelöscht
# Standard: 30 Tage
DATA_RETENTION_STATS_AGGREGATE_DAYS=30

# =============================================================================
# CORS KONFIGURATION (WICHTIG für Produktion!)
# =============================================================================
# Erlaubte Origin für Cross-Origin Requests vom Frontend
# Entwicklung: http://localhost:5173 oder *
# Produktion: https://your-domain.de (exakte Domain angeben!)
# SICHERHEIT: Verwenden Sie NIEMALS '*' in Produktion!
# Wird automatisch vom setup.sh Script auf Ihre Domain gesetzt
CORS_ORIGIN=https://your-domain.example.de

# =============================================================================
# E-MAIL BENACHRICHTIGUNGEN (Optional)
# =============================================================================
# Konfiguriere SMTP für automatische E-Mail-Benachrichtigungen bei kritischen Fehlern
# Lasse die Felder leer um E-Mail-Benachrichtigungen zu deaktivieren

# SMTP Server Hostname
# Gmail: smtp.gmail.com
# Outlook: smtp.office365.com
# Eigener Server: mail.example.com
SMTP_HOST=smtp.gmail.com

# SMTP Server Port
# 587 = STARTTLS (Standard, empfohlen)
# 465 = SSL/TLS
# 25 = Unverschlüsselt (nicht empfohlen)
SMTP_PORT=587

# SMTP Verschlüsselung aktivieren
# false = STARTTLS (Port 587)
# true = SSL/TLS (Port 465)
SMTP_SECURE=false

# SMTP Benutzername (meist Ihre E-Mail-Adresse)
SMTP_USER=your-email@gmail.com

# SMTP Passwort oder App-Passwort
# WICHTIG für Gmail: Verwenden Sie ein App-Passwort, nicht Ihr normales Passwort!
# Erstellen unter: https://myaccount.google.com/apppasswords
SMTP_PASSWORD=your-app-password

# Absender-Adresse für ausgehende E-Mails
# Format: "Name <email@example.com>"
SMTP_FROM=LSS Verband Tool <your-email@gmail.com>

# E-Mail-Adresse die Benachrichtigungen erhält
# Bei kritischen Fehlern wird an diese Adresse eine E-Mail gesendet
ALERT_EMAIL=admin@example.com
